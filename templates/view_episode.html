{{ define "title"}}

{{ $episode := .Episode }}

<title>View {{ $episode.Title }}</title>

{{ end }}

{{define "content"}}

{{ $episode := .Episode }}
{{ $ID := .Episode.ID }}
{{ $IsAuthor := .IsAuthor }}
{{ $IsAdmin := .IsAdmin }}
{{ $author := .Episode.Author }}

<div class="container">
  <div class="row">
    <div class="col-sm-12 col-md-12 col-lg-12">
      <h3>{{ $episode.Title }}</h3>
      <br>

      <img class="card-img-top" data-src="" alt="Thumbnail" style="width: 100%; display: block;" src="https://s3.amazonaws.com/foundationsapp{{ .Episode.Image.Path }}"
        data-holder-rendered="true">

      <p>Author: {{ $author.UserName }}</p>
      <p>{{ $episode.Tagline }}<p/>
        <hr>
        <p>{{ $episode.Body }}</p>
        <hr>
        <p>Likes: {{ $episode.Likes }}</p>
        <p>Published: {{ $episode.PublishedOn }}</p>

      <hr>
      {{ if $episode.Videos }}
        {{ range $video := $episode.Videos }}
        <iframe width="560" height="315" src="{{ $video.Path }}" frameborder="0" allow="encrypted-media; gyroscope;" allowfullscreen></iframe>
        {{ end }}
      {{ end }}

      <hr>
        <p>Tags</p>
        {{ range $tag := $episode.Tags }}
          <p>{{ $tag }}</p>
        {{ end }}
        <hr>

        <p>Learning Points</p>
        {{ range $lp := $episode.LearningPoints }}
          <p>{{ $lp }}</p>
        {{ end }}
        <hr>

        <p>Digital Standards</p>
        {{ range $ds := $episode.DigitalStandards }}
          <p>{{ $ds }}</p>
        {{ end }}
        <hr>

        {{ if (or $IsAuthor (eq $IsAdmin "true")) }}
        <a class="btn btn-primary" href="/modify/{{ $ID }}">Modify</a>
        <a class="btn btn-danger" href="/delete/{{ $ID }}">Delete</a>
        {{ end }}

    </div>

  </div> <!-- END Row-->

</div>

{{end}}